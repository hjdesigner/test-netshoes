"use strict";function openBag(){var t=document.querySelector('[data-js="bag"]');t.classList.contains("bag-active")?(t.classList.remove("bag-active"),t.classList.add("bag-close")):(t.classList.remove("bag-close"),t.classList.add("bag-active"))}function deleteItem(t,e){var a=document.querySelector('[data-js="item-bag"]');a.innerHTML=parseInt(a.textContent)-1,document.querySelectorAll(".bag-items").forEach(function(e,a){e.getAttribute("data-js")===t&&e.remove()}),resultFinishi()}function resultFinishi(){var t=0,e=0,a=document.querySelector('[data-js="totalBag"]'),i=document.querySelector('[data-js="priceInstallment"]');document.querySelector(".bag-items");document.querySelectorAll(".bag-items").forEach(function(s,n){t=s.children[2].textContent.replace("R$ ","").replace(",",".").replace(/^\s+|\s+$/g,""),e+=parseFloat(t),e>0?(a.innerHTML=e.toFixed(2).replace(".",","),i.innerHTML=parseFloat(e/10).toFixed(2).replace(".",",")):(a.innerHTML="0,00",i.innerHTML="0,00")})}function viewAll(){fetch(endpoint).then(function(t){t.json().then(function(t){prodData=t.products;var e=prodData.map(function(e){return e.installments?'\n                            <li>\n                                <figure class="showcase-image">\n                                    <img src="../images/'+e.id+'.jpg" alt="'+e.title+'">\n                                    <div class="showcase-purchase"  data-js="purchase" data-id="'+e.id+'" data-title="'+e.title+'" data-price="'+e.price+'">\n                                        comprar\n                                    </div>\n                                </figure>\n                                <h2 class="showcase-title">'+e.title+'</h2>\n                                <div class="showcase-prices">\n                                    <div class="por"><span class="different-price">r$</span>'+parseFloat(e.price).toFixed(2).replace(".",",")+'</div>\n                                    <div style="display:none;">'+(installmentPrice=e.price/e.installments)+'</div>\n                                    <div class="installment">ou '+e.installments+' x <span class="different-installment">R$ '+parseFloat(installmentPrice).toFixed(2).replace(".",",")+'</span></div>\n                                </div>\n                                <div class="showcase-purchase-mobile" data-js="purchase" data-id="'+e.id+'" data-title="'+e.title+'" data-price="'+e.price+'">\n                                    comprar\n                                </div>\n                            </li>\n                        ':'\n                            <li>\n                                <figure class="showcase-image">\n                                    <img src="../images/'+e.id+'.jpg" alt="'+e.title+'">\n                                    <div class="showcase-purchase" data-js="purchase" data-id="'+e.id+'" data-title="'+e.title+'" data-price="'+e.price+'">\n                                        comprar\n                                    </div>\n                                </figure>\n                                <h2 class="showcase-title">'+e.title+'</h2>\n                                <div class="showcase-prices">\n                                    <div class="por"><span class="different-price">r$</span>'+parseFloat(e.price).toFixed(2).replace(".",",")+'</div>                                    \n                                </div>\n                                <div class="showcase-purchase-mobile" data-js="purchase" data-id="'+e.id+'" data-title="'+t.title+'" data-price="'+t.price+'">\n                                    comprar\n                                </div>\n                            </li>\n                        '}).join("");ulShowcase.innerHTML=e})})}function viewBag(){var t=document.querySelector('[data-js="item-bag"]');t.innerHTML=parseInt(t.textContent)+1;var e='\n        <div class="bag-items" data-js="'+this.getAttribute("data-id")+'">\n\t\t\t<div class="bag-items-image">\n\t\t\t\t<img src="../images/'+this.getAttribute("data-id")+'.jpg" alt="">\n\t\t\t</div>\n\t\t\t<div class="bag-items-text">\n\t\t\t\t<div class="bag-items-title">'+this.getAttribute("data-title")+'</div>\n\t\t\t\t<div class="bag-items-sku">GGG | Preto e branco</div>\n\t\t\t\t<div class="bag-items-amount">Quantidade: 1</div>\n\t\t\t</div>\n\t\t\t<div class="bag-items-price">\n\t\t\t\tR$ '+parseFloat(this.getAttribute("data-price")).toFixed(2).replace(".",",")+'\n\t\t\t</div>\n\t\t\t<div class="bag-items-delete" data-id="'+this.getAttribute("data-id")+'" data-price="'+this.getAttribute("data-price")+"\" onclick=\"deleteItem(\n                this.getAttribute('data-id'),\n                this.getAttribute('data-price')\n            )\" >delete</div>\n\t\t</div>\n    ";itemsBag.insertAdjacentHTML("beforeend",e),resultFinishi()}function resultFinishi(){var t=0,e=0,a=document.querySelector('[data-js="totalBag"]'),i=document.querySelector('[data-js="priceInstallment"]');document.querySelectorAll(".bag-items").forEach(function(s,n){t=s.children[2].textContent.replace("R$ ","").replace(",",".").replace(/^\s+|\s+$/g,""),e+=parseFloat(t),a.innerHTML=e.toFixed(2).replace(".",","),i.innerHTML=parseFloat(e/10).toFixed(2).replace(".",",")})}var btnBag=document.querySelector('[data-js="status-bag"]');btnBag.addEventListener("click",openBag);var endpoint="http://henriquemelanda.com.br/api-net/products.json",ulShowcase=document.querySelector('[data-js="showCase"] ul'),itemsBag=document.querySelector('[data-js="items-bag"]'),prodData=[],installmentPrice=void 0;viewAll(),setTimeout(function(){var t=document.querySelectorAll(".showcase-purchase"),e=document.querySelectorAll(".showcase-purchase-mobile");t.forEach(function(t){return t.addEventListener("click",viewBag)}),e.forEach(function(t){return t.addEventListener("click",viewBag)})},500);
//# sourceMappingURL=netshoes.min.js.map
